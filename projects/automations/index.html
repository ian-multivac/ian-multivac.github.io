
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://github.mymultivac.com/projects/automations/" rel="canonical"/>
<link href="../../assets/img/favicon.ico" rel="icon"/>
<meta content="mkdocs-1.2.2, mkdocs-material-7.2.5" name="generator"/>
<title>Displaying Local Airport Departures - myMultivac Projects</title>
<link href="../../assets/stylesheets/main.be71726b.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.3f5d1f46.min.css" rel="stylesheet"/>
<meta content="#2094f3" name="theme-color"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-Z8P09QN6EZ"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'G-Z8P09QN6EZ');
</script>
</head>
<body data-md-color-accent="" data-md-color-primary="blue" data-md-color-scheme="default" dir="ltr">
<script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#10000-view">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="myMultivac Projects" class="md-header__button md-logo" data-md-component="logo" href="../.." title="myMultivac Projects">
<img alt="logo" src="../../assets/img/favicon.ico"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            myMultivac Projects
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Displaying Local Airport Departures
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="myMultivac Projects" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="myMultivac Projects">
<img alt="logo" src="../../assets/img/favicon.ico"/>
</a>
    myMultivac Projects
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
        myMultivac
      </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2">
        Projects
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Projects" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          Projects
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1" id="__nav_2_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_1">
        Public
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Public" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_1">
<span class="md-nav__icon md-icon"></span>
          Public
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Displaying Local Airport Departures
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Displaying Local Airport Departures
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#10000-view">
    10,000' View
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#taking-off">
    Taking Off
  </a>
<nav aria-label="Taking Off" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#step-1-webhook-node">
    Step 1: Webhook node
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-2-get-airport-site-node">
    Step 2: GET Airport Site node
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-3-extract-table-element-node">
    Step 3: Extract Table Element node
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-4-generate-html-template-node">
    Step 4: Generate HTML Template node
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-5-respond-to-webhook">
    Step 5: Respond to Webhook
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#final-approach">
    Final Approach
  </a>
<nav aria-label="Final Approach" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#publishing-and-refining-our-flow">
    Publishing and refining our flow
  </a>
<nav aria-label="Publishing and refining our flow" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#error-handling">
    Error handling
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#asynchronous-updates">
    Asynchronous updates
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pretty-it-up">
    Pretty it up
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../websites/">
        Dumb Websites
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../pythonista-todo/">
        Todo Sync iOS Extension
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../about/">
        About
      </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#10000-view">
    10,000' View
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#taking-off">
    Taking Off
  </a>
<nav aria-label="Taking Off" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#step-1-webhook-node">
    Step 1: Webhook node
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-2-get-airport-site-node">
    Step 2: GET Airport Site node
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-3-extract-table-element-node">
    Step 3: Extract Table Element node
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-4-generate-html-template-node">
    Step 4: Generate HTML Template node
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-5-respond-to-webhook">
    Step 5: Respond to Webhook
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#final-approach">
    Final Approach
  </a>
<nav aria-label="Final Approach" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#publishing-and-refining-our-flow">
    Publishing and refining our flow
  </a>
<nav aria-label="Publishing and refining our flow" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#error-handling">
    Error handling
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#asynchronous-updates">
    Asynchronous updates
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pretty-it-up">
    Pretty it up
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1>Displaying Local Airport Departures</h1>
<!-- # Displaying Local Airport Departures -->
<p>A colleague was working on a project to present a local airport’s departures on a display monitor.  There are many APIs out there that can provide flight data, but most of them are overkill for a single airport, with few flights in and out each day.  Even with expensive (but comprehensive) API data, there’s still a need to make the display at least a little bit presentable, for the end users who are checking their flights’ status.  We’ll serve a simple webpage that displays this info, without all the extra clutter that comes with the airport’s main site.</p>
<p><img alt="Our final product will look sort of like this" src="/projects/images/n8n_flights_board_view.png"/></p>
<p>This project uses a self-hosted <a href="https://n8n.io">N8N</a> environment to serve the latest departure information from the airport’s website.  N8N provides an easy interface to build a wide range of automations, and has proven to be very powerful as I’ve explored it over the last few months.  I’m not here to shill for their company, but I highly recommend it, from what I’ve been able to do with it so far.  </p>
<div class="admonition tip">
<p class="admonition-title">And yes, there are puns.</p>
</div>
<h3 id="10000-view">10,000’ View<a class="headerlink" href="#10000-view" title="Permanent link">#</a></h3>
<p>The general logic we’ll use for this project can be applied to any given set of tools, but this automation only has a few steps.  The automation:</p>
<ul>
<li>listens for an incoming request using a webhook, then</li>
<li>makes a request to the airport’s site, and</li>
<li>extracts the relevant table for flight departures, before</li>
<li>dumping the table into a new HTML template, and</li>
<li>responding to the webhook with the new webpage template.</li>
</ul>
<p>Within N8N, it looks like this:</p>
<p><img alt="N8N flight automation flow image" src="/projects/images/n8n_flights_flow.png"/></p>
<p>Let’s take a closer look into each of the nodes in that screenshot, to walk through what each step is actually doing.</p>
<h3 id="taking-off">Taking Off<a class="headerlink" href="#taking-off" title="Permanent link">#</a></h3>
<p>One of the best ways N8N has helped me build automations and quickly iterate on random projects is the incredibly easy-to-use pre-built nodes, shown in the screenshot above.  Its drag-and-drop builder makes it very simple to handle web-based tasks, and provide a basic webserver to act as a framework.</p>
<div class="admonition tip">
<p class="admonition-title">The logic will apply to any similar task</p>
<p>The webhook listener that can be replaced by a script running based on a cron job or other trigger, but the subsequent steps would be essentially the same for any scraped site or tool.  See <a href="#publishing-and-refining-our-flow">Publishing and refining our flow</a> below for some other benefits of changing the trigger.</p>
</div>
<h4 id="step-1-webhook-node">Step 1: Webhook node<a class="headerlink" href="#step-1-webhook-node" title="Permanent link">#</a></h4>
<p>This node basically just waits until someone makes a request to a specific URL.  Once it receives that request, the rest of the flow is initiated.</p>
<p><img alt="N8N webhook node" src="/projects/images/n8n_flights_webhook_node.png"/></p>
<p>The important part of this node is the <code>Respond</code> setting at the bottom of that screenshot, which is set to respond “Using ‘Respond Using Webhook’ Node”.</p>
<div class="admonition tip">
<p class="admonition-title">I accidentally forgot that setting…</p>
<p>I was fiddling with my final template for way too long, wondering why my formatting didn’t get applied, I won’t lie. N8N has a lot of different nodes and settings, and sometimes it’s easy to forget to tick a box!</p>
</div>
<h4 id="step-2-get-airport-site-node">Step 2: GET Airport Site node<a class="headerlink" href="#step-2-get-airport-site-node" title="Permanent link">#</a></h4>
<p>Once the flow is triggered by the webhook, this node makes a <code>GET</code> request to the airport’s website.  The specific site targeted by this flow uses straight HTML on its pages, and the response to the <code>GET</code> request is a messy pile of HTML, but a straightforward one.</p>
<div class="admonition tip">
<p class="admonition-title">Dynamic sites</p>
<p>Our source site is updated frequently, but it doesn’t load data using JavaScript, and there are no extra navigation steps or input forms to worry about.  Other sites might require additional step to load the appropriate elements into the page, which could be harder to do directly in N8N.</p>
</div>
<p><img alt="N8N GET HTTP node" src="/projects/images/n8n_flights_get_request_node.png"/></p>
<p>The response to the <code>GET</code> request gets assigned to the <code>data</code> property of the node’s output, and shown on the left side of the screenshot above.  In other tools or raw scripts, this could be the raw response data, without getting assigned to its own property.  Either way, our next step is to extract a specific section of that HTML response.</p>
<h4 id="step-3-extract-table-element-node">Step 3: Extract Table Element node<a class="headerlink" href="#step-3-extract-table-element-node" title="Permanent link">#</a></h4>
<p>Wading through raw HTML is no one’s idea of a good time, but the Extract HTML node within N8N needs us to target a specific CSS selector.  Right-clicking on the airport’s table and choosing <code>Inspect Element</code> can make quick work of that.</p>
<p><img alt="Right-click on the target element, and use your browser's Inspect Element option to quickly find the right ID" src="/projects/images/n8n_flights_inspect_element.png"/></p>
<p>This will pop open the browser console and show us the site’s code.  It took a little bit of spot-checking through the element tree to find the best one to use, but in this case, the target element ID was <code>#nav-departures</code>.</p>
<div class="admonition tip">
<p class="admonition-title">Browsers vary</p>
<p>My screenshot above is from Safari, but Chrome, Firefox and Edge will each have options to find a CSS selector, usually by right-clicking on the element’s code in the console, and hitting “Copy”.</p>
</div>
<p><img alt="N8N Extract HTML node, showing input and output" src="/projects/images/n8n_flights_extract_html_node.png"/></p>
<p>In the screenshot above, there are a few areas highlighted.  In step 2, N8N stored our response data in a property called <code>data</code>.  This step reads the <code>data</code> property, and targets any of the extraction values we set in the section below.  This extracted data is then passed as JSON in the output of this node.  In our case, we want to target the <code>#nav-departures</code> selector that we found above, by entering it into the  <code>CSS Selector</code> field.  Just above that, note that we’ve assigned the key <code>nav-departures</code> to this extracted data, so we can use it in the next step.</p>
<h4 id="step-4-generate-html-template-node">Step 4: Generate HTML Template node<a class="headerlink" href="#step-4-generate-html-template-node" title="Permanent link">#</a></h4>
<p>We now have our table data, stored with the key <code>nav-departures</code> as the output of step 3.  Since our end goal is to have a simple webpage to display the data, we need to create a basic HTML template that will properly block the section that we just in-elegantly carved from its original home.  Again, N8N has a node for this.  The HTML node can allow us to drop our key into some boilerplate website code, and give us a way to apply some basic styling.</p>
<p>The quick and dirty HTML template used is here:</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;

&lt;html&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;title&gt;Airport Departures&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div class="container"&gt;
      &lt;h1&gt;Airport Departures&lt;/h1&gt;
        &lt;div&gt;
          &lt;div style="margin-left:auto;margin-right:auto;"&gt;

            {{ $json['nav-departures'][0] }}

          &lt;/div&gt;
        &lt;/div&gt;
  &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;

&lt;style&gt;
.container {
  background-color: #ffffff;
  text-align: center;
  padding: 16px;
  border-radius: 8px;
  font-family: Arial, Helvetica, sans-serif;
}

table {
  margin-left: auto;
  margin-right: auto;
}

h1 {
  color: #658a4a;
  font-size: 24px;
  font-weight: bold;
  padding: 8px;
  text-align: center;
}

h2 {
  color: #909399;
  font-size: 18px;
  font-weight: bold;
  padding: 8px;
}

td, th {
  text-align: center;
  height: 24px;
  vertical-align: middle;
  padding: 16px;
}

th {
  background-color: #658a4a;
  color: white;
}

tr {
  border: 1px solid #fff;
  border-collapse: collapse;
}


arrdeptables.departing {
  text-align: center;
}
tr.arrivals:nth-child(even){background-color: #f2f2f2;}

&lt;/style&gt;

</code></pre>
<div class="admonition tip">
<p class="admonition-title">I really don’t love CSS</p>
<p>So there’re likely errors, unused code, and feel free to make yours better :)</p>
</div>
<p>The most important part of this HTML template is here:</p>
<pre><code class="language-html">    ...
          &lt;div style="margin-left:auto;margin-right:auto;"&gt;

            {{ $json['nav-departures'][0] }}

          &lt;/div&gt;
    ...
</code></pre>
<p>The handlebars notation in the format, <code>{{ something }}</code>, describes a variable in N8N.  The specific instruction it describes is to look up the node’s input (shown by <code>$json</code>), in the <code>nav-departures</code> key, and retrieve the first element in the array (described by <code>[0]</code>).  In this case, it’s the data we just stored in that key, in the last step.</p>
<p><img alt="In N8N, the JSON input gets turned into a proper HTML table" src="/projects/images/n8n_flights_html_template.png"/></p>
<p>Within the Generate HTML Template node, our JSON input gets added directly into the base webpage template, to properly frame the existing HTML that we pulled out of the airport’s main site.  The <code>&lt;style&gt;</code> block in the HTML template sets up some simple formatting instructions to the table.</p>
<div class="admonition tip">
<p class="admonition-title">Did I tell you already that I don’t love CSS?</p>
<p>It can be annoying, but a couple small changes can make a huge difference in formatting!</p>
</div>
<h4 id="step-5-respond-to-webhook">Step 5: Respond to Webhook<a class="headerlink" href="#step-5-respond-to-webhook" title="Permanent link">#</a></h4>
<p>The output of our last node was a lot more appealling than the raw JSON information that we’ve been dealing with up until now.  The only thing left to do is to pass this new template back to the original webhook URL, so our display screen can present it.</p>
<p><img alt="The Respond to Webhook node allows us to pass a simple page back to the original request" src="/projects/images/n8n_flights_response_node.png"/></p>
<p>We can drag the input’s <code>html</code> property directly into the “Response Body” field inside the node, and we see that it automagically gets turned into the handlebars variable required by N8N.  We also need to set an appropriate header within our response, to tell the web client to display this as an HTML page, rather than raw JSON.  To do that, we have to add <code>Content-Type</code> as a header name, and <code>text/html</code> as the corresponding value.  N8N will serve up the webpage to our end users, without any further hassle.</p>
<h3 id="final-approach">Final Approach<a class="headerlink" href="#final-approach" title="Permanent link">#</a></h3>
<p><img alt="Final view of our simple webpage" src="/projects/images/n8n_flights_board_view.png"/></p>
<h4 id="publishing-and-refining-our-flow">Publishing and refining our flow<a class="headerlink" href="#publishing-and-refining-our-flow" title="Permanent link">#</a></h4>
<p>After (saving and) publishing our flow within N8N, we can hit our new webhook with our browser, and we should see our new flight data table.  N8N allows you to keep production and test data mostly separate, and you can safely iterate without interrupting your “live” version without much trouble.  There are several ways that this simple flow can be extended or enhanced.</p>
<h5 id="error-handling">Error handling<a class="headerlink" href="#error-handling" title="Permanent link">#</a></h5>
<p>The most obvious and likely most important for an end user, is error handling!  What happens if we can’t connect to the airport’s site?  What happens if they change the CSS selector on their end?  Our flow doesn’t have any way to surface errors currently, but that’s absolutely something you’ll want to consider as you build your own projects.</p>
<h5 id="asynchronous-updates">Asynchronous updates<a class="headerlink" href="#asynchronous-updates" title="Permanent link">#</a></h5>
<p>This flow waits until the webhook trigger is called, before doing any requests to the main site.  An ideal flow would gather than information periodically and storing it, without waiting for something to trigger a request to the external site.  It would improve response time, and make it easier to handle errors before they’re made visible to an end user.</p>
<h5 id="pretty-it-up">Pretty it up<a class="headerlink" href="#pretty-it-up" title="Permanent link">#</a></h5>
<p>This particular table relies on the airport doing nearly all of the data transformation; we just slap a bit of styling over top.  Now that the basics are done, though, we could do some more substantial reformatting, like colour-coding delayed flights or changing the header information.  Combined with a few of the other refinements above, we could even enrich the page with information from other sources, like the current weather at a flight’s destination.</p>
<style>
    .jp-RenderedHTMLCommon p {
        font-size: .8rem;
        line-height: 1.6;
    }

    .jp-RenderedHTMLCommon li {
        font-size: .8rem;
        line-height: 1.6;
    }

    .jp-RenderedHTMLCommon h1 {
        margin: 0 0 1.25em;
        color: var(--md-default-fg-color--light);
        font-weight: 300;
        font-size: 2em;
        line-height: 1.3;
        letter-spacing: -0.01em;
    }

    .jp-RenderedHTMLCommon h2 {
        margin: 1.6em 0 .64em;
        font-weight: 300;
        font-size: 1.965em;
        line-height: 1.4;
        letter-spacing: -0.01em;
    }

    .jp-RenderedHTMLCommon h3 {
        margin: 1.6em 0 .8em;
        font-weight: 400;
        font-size: 1.57em;
        line-height: 1.5;
        letter-spacing: -0.01em;
    }

    .jp-RenderedHTMLCommon hr {
        border: none;
    }
</style>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: myMultivac" class="md-footer__link md-footer__link--prev" href="../.." rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Previous
              </span>
              myMultivac
            </div>
</div>
</a>
<a aria-label="Next: Dumb Websites" class="md-footer__link md-footer__link--next" href="../websites/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Next
              </span>
              Dumb Websites
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
            Copyright © 2024 - Ian Dionne
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
</div>
<div class="md-footer-social">
<a class="md-footer-social__link" href="mailto:website@mymultivac.com" rel="noopener" target="_blank" title="">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M476 3.2 12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.409db549.min.js", "version": null}</script>
<script src="../../assets/javascripts/bundle.56a63758.min.js"></script>
</body>
</html>